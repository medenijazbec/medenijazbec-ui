@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');

.wrap{
  font-family:'Roboto', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  color:#bfffe1;
}

/* ===== Top row (3 KPI cards + metric selector) ===== */
.topRow{
  display:grid;
  grid-template-columns: repeat(3, minmax(0,1fr)) auto;
  gap:12px;
  margin-bottom:12px;
}
.cardSm{
  padding:.8rem .9rem;
  border:1px solid rgba(16,185,129,0.25);
  border-radius:10px;
  background:rgba(7,26,20,0.88);
  box-shadow:0 0 18px rgba(16,185,129,0.28);
}
.cardSmHead{ display:flex; justify-content:space-between; align-items:baseline; margin-bottom:.25rem; }
.kpiTitle{ font-size:.9rem; opacity:.9; color:#aef5d4; }
.kpiValue{ font-size:1.6rem; font-weight:700; color:#eafff4; letter-spacing:.2px; }
.spark{ width:100%; height:60px; }

.controls{
  display:flex; align-items:center; gap:.5rem;
  padding:.6rem .8rem;
  border:1px solid rgba(16,185,129,0.25);
  border-radius:10px;
  background:rgba(7,26,20,0.88);
  height:64px;
}
.select{
  border:1px solid rgba(16,185,129,0.25);
  background:transparent;
  color:#00ff66;
  padding:.45rem .6rem;
  border-radius:8px;
}
.meta{ font-size:.86rem; opacity:.9; color:#aaf5d0; }
.bad{ color:#ff6b6b }

/* ===== Main grid ===== */
.grid{
  display:grid;
  grid-template-columns: 2.1fr 1fr;
  gap:12px;
}

.mainCard{
  min-height:420px;
  border:1px solid rgba(16,185,129,0.22);
  border-radius:12px;
  background: radial-gradient(1200px 380px at 18% 0%, rgba(0,255,120,.08), rgba(7,26,20,.92)), rgba(7,26,20,0.88);
  overflow:hidden;
}
.mainChart{ width:100%; height:100%; }

.rightCol{ display:flex; flex-direction:column; gap:12px; }
.card{
  border:1px solid rgba(16,185,129,0.22);
  border-radius:12px;
  background:rgba(7,26,20,0.9);
  padding:.7rem .8rem .6rem;
}
.cardHead{ display:flex; justify-content:space-between; align-items:baseline; margin-bottom:.4rem; }
.cardTitle{ font-weight:700; color:#eafff4; }
.monthChart{ width:100%; height:240px; }

/* ===== Calendar heatmap ===== */
.calHead{
  display:flex; justify-content:space-between; align-items:center; margin-bottom:.35rem;
}
.calNav{
  display:flex; align-items:center; gap:.5rem;
}
.calBtn{
  border:1px solid rgba(16,185,129,0.3);
  background:rgba(7,26,20,0.6);
  color:#bfffe1;
  padding:.25rem .45rem;
  border-radius:8px;
  cursor:pointer;
}
.calBtn[disabled]{
  opacity:.45; cursor:not-allowed;
}
.calMonthLabel{
  font-size:.92rem; color:#c9ffe9;
  min-width:7.5rem; text-align:center;
}
.calWeekdays{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap:6px;
  margin:2px 0 6px;
  padding:0 2px;
  font-size:.78rem; color:#aef5d4; opacity:.9;
}
.calWeekdays span{ text-align:center; }

.calGrid{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap:6px;
}
.calCell{
  height:34px;
  border-radius:10px;
  border:1px solid rgba(16,185,129,0.18);
  display:flex; align-items:center; justify-content:center;
  font-size:.82rem;
  color:#eafff4;
  user-select:none;
  transition: transform .06s ease, box-shadow .06s ease, border-color .06s ease;
}
.calCellHasData{
  box-shadow:0 0 10px rgba(16,185,129,0.18);
  cursor:pointer;
}
.calCellHasData:hover{
  transform: translateY(-1px);
  border-color: rgba(0,255,102,0.5);
}
.calCellEmpty{
  background:transparent !important;
  color:#88b7a3;
}

.calLegend{
  display:flex; align-items:center; gap:8px;
  margin-top:8px;
}
.legendBar{
  display:inline-flex; gap:4px;
}
.legendBar i{
  width:24px; height:10px; border-radius:6px;
  border:1px solid rgba(16,185,129,0.25);
  display:inline-block;
}

/* Day details */
.dayBox{
  min-height:120px;
  display:flex; flex-direction:column; gap:.2rem;
  justify-content:center;
}
.dayBig{ font-size:1.05rem; font-weight:700; color:#dfffee; }
.dayWeek{ font-size:.95rem; color:#c9ffe9; opacity:.95; }
.dayVal{ font-size:1rem; color:#7ef2b7; }
.muted{ color:#aef5d4; opacity:.8; }

/* Apex dark tweaks */
.apexcharts-tooltip{
  background: rgba(0,0,0,.78) !important;
  color:#d1ffe6 !important;
  border:1px solid rgba(0,255,102,.35) !important;
  border-radius:9px !important;
}
.apexcharts-tooltip-title{
  background:rgba(0,0,0,.4) !important;
  border-bottom:1px solid rgba(0,255,102,.2) !important;
}
.apexcharts-legend-text{ color:#b6ffe0 !important; }

/* Hide data labels entirely */
.apexcharts-datalabel{ display:none !important; }

/* Responsive */
@media (max-width: 1020px){
  .grid{ grid-template-columns: 1fr; }
  .rightCol{ order: 2; }
  .mainCard{ order: 1; min-height:360px; }
  .topRow{ grid-template-columns: 1fr; }
  .controls{ height:auto; }
}
/* Hide tooltips & crosshairs inside spark charts only */
.spark :global(.apexcharts-tooltip),
.spark :global(.apexcharts-xaxistooltip),
.spark :global(.apexcharts-yaxistooltip),
.spark :global(.apexcharts-xcrosshairs),
.spark :global(.apexcharts-ycrosshairs){
  display: none !important;
}
